!function(t){function e(){this.listeners={},this.generateId=function(){return"xxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)})},window.addEventListener("message",t=>{if(!t||!t.data)return;const e=t.data;e.requestId&&this.listeners[e.requestId]&&(this.listeners[e.requestId](e.payload),delete this.listeners[e.requestId])})}e.prototype.request=function(t,e,n){const o=this.generateId(),s={requestId:o,action:t,data:e};this.listeners[o]=n,window.parent.postMessage(s,"*")},e.prototype.send=function(t,e){const n={action:t,data:e};window.parent.postMessage(n,"*")},e.prototype.sendScore=function(t,e){this.request("score",{score:t},t=>e(t))},e.prototype.getConfiguration=function(t){this.request("get-configuration",{},e=>t(e))},e.prototype.saveConfiguration=function(t,e){this.request("save-configuration",{configuration:t},t=>e(t))},e.prototype.getStorage=function(t){this.request("list",{},e=>t(e))},e.prototype.saveStorage=function(t,e){this.request("save-storage",{storage:t},t=>e(t))},t.EducentreStorage=e}(window);